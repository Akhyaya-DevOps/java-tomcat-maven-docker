node(){
checkout scm
    stage('Code build'){
        sh "mvn package"
    }
    stage('Docker build and start'){
        sh '''
        docker stop newcontainer
        docker rm -f newcontainer
        docker rmi testimage
        docker build -t testimage .
        docker run --name=newcontainer -d -p 9898:8080 testimage
         '''
     }

}
